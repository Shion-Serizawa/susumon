# Learning Log / Meta Note アプリ 技術課題・後回し一覧（v0.1→）

本ドキュメントは、v0.1 を作り切るために **いったんスコープ外（後回し）** とした技術項目を列挙する。

---

## A. OpenAPI / API設計の後回し

1. **Rate Limit / Abuse 対策**
   - v0.1 は個人利用前提のため未導入
   - 将来：IP/ユーザー単位のレート制限、リトライ制御

2. **Idempotency / 再送対策**
   - `POST /logs` の二重送信、ネットワーク再送など
   - 将来：Idempotency-Key の導入

3. **監査ログ / 変更履歴**
   - CRUD の変更履歴テーブル（event log）

4. **API Versioning**
   - v0.1 はパス固定（`/api`）
   - 将来：`/api/v1` 等

---

## B. CSV Export 仕様の後回し

1. **CSV の厳密仕様（RFC4180寄せ）**
   - 改行・ダブルクォート・カンマのエスケープ
   - UTF-8 BOM の有無
   - 改行コード（LF/CRLF）

2. **エクスポート単位の追加**
   - 期間指定、テーマ指定
   - 一括（Theme+Logs+Notes）の結合出力

---

## C. 認証・セキュリティの後回し

1. **CSRF 対策の強化**
   - Cookie運用のため、v0.1 は SameSite=Lax 前提
   - 将来：CSRF トークン導入、State/Nonce の強化

2. **セッションローテーション / 多端末管理**
   - 端末一覧、ログアウト（全端末）等

3. **権限制御の拡張**
   - 共有/チーム利用を見据えた role / ACL

---

## D. DB / 運用の後回し

1. **論理削除の本採用**
   - v0.1 は物理削除を基本
   - 将来：`deleted_at` を有効運用、復元UI

2. **バックアップ / リストア手順の確立**
   - 定期ダンプ、ポイントインタイムリカバリの採用判断

3. **RLS（Row Level Security）導入**
   - v0.1 は API 層で user_id スコープを強制
   - 将来：DB側でもRLSを導入する場合、JWT伝搬・ポリシー設計が必要

4. **theme_ids の正規化（中間テーブル化）**
   - v0.1 は uuid 配列
   - 将来：検索性能・整合性要件が上がったら `meta_note_themes(note_id, theme_id)` に移行

---

## E. Observability / 品質の後回し

1. **アプリケーションログの体系化**
   - 構造化ログ、相関ID、PIIマスキング

2. **メトリクス/アラート**
   - API レイテンシ、DBエラー率

3. **E2E テスト / 回帰テスト**
   - v0.1 は最小
   - 将来：Playwright 等

---

## F. UI/UX の後回し

1. **オフライン対応**
2. **高度な検索（全文検索、タグ検索UI強化）**
3. **統計・分析（週次レポート等）**

---

以上を「v0.1→ 後回し一覧」とする。

